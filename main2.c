/*
 * PEST REPELLENT DEVICE with 40kHZ ultrasonic transducers
 * ATTINY85 fuses have to be set for 16,5 MHz internal clock
 *  Resistor Ladder 5-bit Digital-to-Analog converter
 * (C) Adam Loboda 2021, adam.loboda@wp.pl
 */

#include <stdint.h>
#include <util/delay.h>
#include <stdbool.h>
#include <avr/io.h>
#include <avr/pgmspace.h>

// PIN - PORT ASSIGNMENT DEFINITION FOR 5-BIT DAC DEVICE
#define	OUTPUTPORT		PORTB
#define	OUTPUTPORTCTRL		DDRB


// DEFINE 32 VALUES for ULTRASONIC WAVE SHAPE 
// VIA 5-BIT Digital to Analog conversion

 
 // sinusoidal waveform created in Excell / Libreoffice - repeated 100 times
const uint8_t  waveshape[] PROGMEM = 
  { 
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   
    18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
 
    18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
 
    18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
 
    18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15,
   18, 21, 23, 26, 27, 29, 30, 30,
   30, 29, 27, 26, 23, 21, 18, 15, 
   12, 9, 7, 4, 3, 1, 0, 0,
   0, 1, 3, 4, 7, 9, 12, 15
   };


int main(void)
{
        uint16_t sequence;
        uint8_t dacvalue;
        uint8_t pulseset;
        
        // SET OUTPUT PIN ON ALL OUTPUT PORTS
        OUTPUTPORTCTRL = 0b00011111;  //set all 5 LOWER bit pins as output
        OUTPUTPORT     = 0b00000000;  //set all 5 LOWER bit pins to ZERO

       //* neverending loop */
       while (1) 
       { 

        // generating WAVE on BIT0-BIT5 DAC outputs
        // with values taken from PROGMEM WAVE definition


        // sending 8 sequences of 100pulses and 20 pauses with higher frequency
        for(pulseset=0; pulseset<8; pulseset++)
         {
          // gives exact 42 kHz with 16,5 MHz clock of ATTINY85
          // sending 100 sinusoidal pulses
          for(sequence=0; sequence<3199; sequence++)
           {
           dacvalue = pgm_read_byte(waveshape + sequence) ;
           OUTPUTPORT = dacvalue; 
           // now delay to achieve desired frequency
           asm volatile (
                           "    nop	\n"
                           "    nop	\n" );
           };
                
          // send 25 cycles of pause
               for(sequence=0; sequence<799; sequence++)
                  {
                    dacvalue = pgm_read_byte(waveshape + sequence) ;
                    // reading values from lookup table but sending 0 to output
                    OUTPUTPORT = 0; 
                    // now delay to achieve desired frequency
                     asm volatile ("    nop	\n" );
                   }; // end of sequence loop
          };  // end of pulseset loop


        // now the bigger pause    
        // send 1000 empty cycles of pause
        for(pulseset=0; pulseset<10; pulseset++)
         {
               for(sequence=0; sequence<3199; sequence++)
                  {
                    dacvalue = pgm_read_byte(waveshape + sequence) ;
                    // reading values from lookup table but sending 0 to output
                    OUTPUTPORT = 0; 
                    // now delay to achieve desired frequency
                     asm volatile ("    nop	\n" );
                   }; // end of sequence loop
           };  // end of pulseset loop

  
        // sending 8 sequences of 100pulses and 20 pauses with lower frequency
        for(pulseset=0; pulseset<8; pulseset++)
         {
          // gives 39 kHz with 16,5 clock of ATTINY85
          // sending 100 pulses on lower frequency
          for(sequence=0; sequence<3199; sequence++)
           {
           dacvalue = pgm_read_byte(waveshape + sequence) ;
           OUTPUTPORT = dacvalue; 
           // now delay to achieve desired frequency
           asm volatile (
            "    nop	\n" 
            "    nop	\n" 
            "    nop	\n"  );
           }; 
                
          // send 25 cycles of pause
               for(sequence=0; sequence<799; sequence++)
                  {
                    dacvalue = pgm_read_byte(waveshape + sequence) ;
                    // reading values from lookup table but sending 0 to output
                    OUTPUTPORT = 0; 
                    // now delay to achieve desired frequency
                     asm volatile ("    nop	\n" );
                   }; // end of sequence loop
          };  // end of pulseset loop


        // now the bigger pause    
        // send 1000 empty cycles of pause
        for(pulseset=0; pulseset<10; pulseset++)
         {
               for(sequence=0; sequence<3199; sequence++)
                  {
                    dacvalue = pgm_read_byte(waveshape + sequence) ;
                    // reading values from lookup table but sending 0 to output
                    OUTPUTPORT = 0; 
                    // now delay to achieve desired frequency
                     asm volatile ("    nop	\n" );
                   }; // end of sequence loop
          };  // end of pulseset loop

    
      
        }; // neverending loop 

};  // end of MAIN



